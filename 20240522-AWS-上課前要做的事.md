---
id: 20240522-AWS-上課前要做的事
aliases: []
tags: []
---

# 20240522-AWS-上課前要做的事

> 記得複習早上第一個錄音檔前面的一些S3觀念

以 root 身份登入

1. 建立 User Groups=

搜尋 IAM
左邊選 User Groups

-   ai0125class
    GroupName= ai0125class
    Permission policies= Attach permission Policies
    下面搜尋 S3, 選AmazonS3FullAccess

-   ai0125classVPCuser
    GroupName= ai0125classVPCuser
    Permission policies= AmazonVPCFullAccess

2. 建立帳號

-   ai0125AdminUser
    -   打勾 `Provice user access to the AWS Management Console`
    -   打勾 I want to create IAM user
    -   Autogenerated password= `%*zXQU9-`
    -   取消打勾 Users must create a new password at next sign-in
    -   group= ai0125class
    -   Tags
        -   Name= AdminUser
        -   UseCase= Administration
    -   建好帳號之後
        -   Security credentials
        -   Create access key
        -   Command Line Interface CLI
        -   打勾 I understand the above recommendation and want to proceed to create an access key
        -   `ai0125AdminUser AccessKey`
        -   Download .CSV file
        -   存到這裏 `C:\Users\hydra\OneDrive\obsidian\職訓局上課筆記\2024_course\AWS\ai0125`
-   ai0125SuperUser
    -   打勾 `Provice user access to the AWS Management Console`
    -   打勾 I want to create IAM user
    -   CustomPasswrod= `Asd21609+`
    -   取消打勾 Users must create a new password at next sign-in
    -   Attach policies directly
        -   Permissions policies= `AdministratorAccess`
    -   Tag
        -   Name= ai0125SuperUser
        -   UseCase= RootAccess
-   ai0125user
    -   不要打勾 `Provice user access to the AWS Management Console`
    -   group= ai0125classVPCuser
    -   Tags
        -   Name= ai0125user
        -   UseCase= CommonUser

3. 建立 S3 Bucket

-   右上角地點記得先改成 `N. Virginia`

-   `ai0125s3bucket`
    -   Bucket type= General purpose
    -   Object Ownership= ACLs disabled
    -   Block Public Access settings for this bucket= Block all public access
    -   Bucket Versioning= Disable
    -   Tags
        -   Name= ai0125S3Bucket
        -   UseCase= S3 Bucket for Storage
    -   Default encryption= Server-side encryption with Amazon S3 managed keys (SSE-S3)
    -   Bucket Key= Enable
    -   Object Lock= Disable

4. 上傳檔案到 S3 Bucket
    - Upload `index.html`
    - Priperties
        - Tags
            - Name= Web Index
            - UseCase= Web HomePage

點 Create Folder 製作一個新的資料夾`ai0125folder01`

5. 想要讓外部能夠訪問 S3 Bucket 裏面的檔案
    - 開Bucket權限
        - Bucket - Permission
            - Block all public access勾全部取消
    - 設定 Bucket Policies
        - ARN 記得改成自己的 bucket ARN, 按下 edit 後可以看到

```json
{
    "Version": "2012-10-17",
    "Id": "Policy1613735718314",
    "Statement": [
        {
            "Sid": "Stmt1613735715412",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::ai0125s3bucket/*"
        }
    ]
}
```
